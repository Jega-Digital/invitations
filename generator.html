<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Create Your Gift Link | Jega Digital</title>
Â  Â  Â  Â  <meta property="og:title" content="Jega Digital Generator">
Â  Â  <meta property="og:image" content="https://images.unsplash.com/photo-1605218427306-635ba2439af2?q=80&w=600&auto=format&fit=crop">
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  body { font-family: 'Lato', sans-serif; background-color: #f8f5f2; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; color: #333; }
Â  Â  Â  Â  .container { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 400px; width: 90%; text-align: center; margin: 20px 0; }
Â  Â  Â  Â  label { display: block; text-align: left; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-bottom: 5px; color: #888; letter-spacing: 1px; }
Â  Â  Â  Â  input { width: 100%; padding: 15px; margin-bottom: 20px; border: 2px solid #eee; border-radius: 10px; font-size: 16px; box-sizing: border-box; outline: none; }
Â  Â  Â  Â  input:focus { border-color: #333; }
Â  Â  Â  Â  button.primary-btn { background-color: #333; color: white; border: none; padding: 15px; font-size: 16px; border-radius: 10px; cursor: pointer; width: 100%; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; transition: background 0.3s; }
Â  Â  Â  Â  button.primary-btn:hover { background-color: #000; }
Â  Â  Â  Â  #app-interface, #expired-screen { display: none; }Â 
Â  Â  Â  Â  .error { color: #d9534f; font-size: 14px; margin-bottom: 15px; display: none; }
Â  Â  Â  Â  .result-box { margin-top: 30px; display: none; background: #f0f0f0; padding: 20px; border-radius: 10px; text-align: left; }
Â  Â  Â  Â  .result-link { word-break: break-all; color: #555; font-size: 14px; margin-bottom: 10px; display: block; }
Â  Â  Â  Â  .timer-text { margin-top: 20px; font-size: 12px; color: #ccc; }
Â  Â  </style>
</head>
<body>

Â  Â  Â  Â  <div class="container" id="login-screen">
Â  Â  Â  Â  <h1>ðŸ”’ Restricted Access</h1>
Â  Â  Â  Â  <p>Enter the Access Code found in your Etsy download.</p>
Â  Â  Â  Â  <input type="password" id="accessCode" placeholder="Enter Access Code">
Â  Â  Â  Â  <p class="error" id="loginError">Invalid Code.</p>
Â  Â  Â  Â  <button class="primary-btn" onclick="checkPass()">Unlock Tool</button>
Â  Â  </div>

Â  Â  Â  Â  <div class="container" id="expired-screen">
Â  Â  Â  Â  <h1 style="color: #d9534f;">ðŸš« Access Expired</h1>
Â  Â  Â  Â  <p>Your 30-day access has ended.</p>
Â  Â  Â  Â  <a href="https://www.etsy.com/shop/YourShopName" target="_blank"><button class="primary-btn">Buy New Pass</button></a>
Â  Â  </div>

Â  Â  Â  Â  <div class="container" id="app-interface">
Â  Â  Â  Â  <h1>âœ¨ Create Invitation</h1>
Â  Â  Â  Â  <p style="margin-bottom: 30px; color:#666;">Fill in the details for your card.</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <label>Top Title (Optional)</label>
Â  Â  Â  Â  <input type="text" id="cardTitle" placeholder="e.g. Save the Date">

Â  Â  Â  Â  <label>Main Message (Required)</label>
Â  Â  Â  Â  <input type="text" id="cardMessage" placeholder="e.g. We are getting married!">

Â  Â  Â  Â  <label>Date (Optional)</label>
Â  Â  Â  Â  <input type="text" id="cardDate" placeholder="e.g. October 26th, 2025">

Â  Â  Â  Â  <label>Time (Optional)</label>
Â  Â  Â  Â  <input type="text" id="cardTime" placeholder="e.g. 4:00 PM">

Â  Â  Â  Â  <label>Location (Optional)</label>
Â  Â  Â  Â  <input type="text" id="cardLoc" placeholder="e.g. The Plaza Hotel, NYC">

Â  Â  Â  Â  <button class="primary-btn" onclick="generateLink()">Create Magic Link</button>

Â  Â  Â  Â  <div id="resultArea" class="result-box">
Â  Â  Â  Â  Â  Â  <span style="font-size:12px; font-weight:bold; color:#888; text-transform:uppercase;">Your Unique Link:</span>
Â  Â  Â  Â  Â  Â  <a id="finalLink" class="result-link" href="#" target="_blank"></a>
Â  Â  Â  Â  Â  Â  <button style="background:white; color:#333; border:1px solid #ddd; padding:10px; width:100%; border-radius:5px; cursor:pointer;" onclick="copyToClipboard()">Copy to Clipboard</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <p class="timer-text" id="days-remaining"></p>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // --- Jega Digital Product Codes & Security Configuration ---
Â  Â  Â  Â  // Maps the user-provided access code to the correct card file.
Â  Â  Â  Â  const CODES = {
Â  Â  Â  Â  Â  Â  // Gold Card Product
Â  Â  Â  Â  Â  Â  'GOLD2025': {
Â  Â  Â  Â  Â  Â  Â  Â  file: 'card.html',
Â  Â  Â  Â  Â  Â  Â  Â  theme: 'Gold Floral',
Â  Â  Â  Â  Â  Â  Â  Â  active: true
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  // Purple Card Product (NEW!)
Â  Â  Â  Â  Â  Â  'PURPLE2025': {
Â  Â  Â  Â  Â  Â  Â  Â  file: 'card-purple.html',
Â  Â  Â  Â  Â  Â  Â  Â  theme: 'Purple Floral',
Â  Â  Â  Â  Â  Â  Â  Â  active: true
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };
Â  Â  Â  Â  const ACCESS_DAYS = 30;
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.onload = function() {Â 
Â  Â  Â  Â  Â  Â  // 1. Check if access is expired
Â  Â  Â  Â  Â  Â  if (!checkExpiry()) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 2. If not expired, check if they are already logged in
Â  Â  Â  Â  Â  Â  if (localStorage.getItem('jega_access_granted') === 'true') {
Â  Â  Â  Â  Â  Â  Â  Â  showAppInterface();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  function showAppInterface() {
Â  Â  Â  Â  Â  Â  document.getElementById("login-screen").style.display = "none";Â 
Â  Â  Â  Â  Â  Â  document.getElementById("app-interface").style.display = "block";Â 
Â  Â  Â  Â  Â  Â  checkExpiry(); // Update the timer text
Â  Â  Â  Â  }

Â  Â  Â  Â  function checkExpiry() {
Â  Â  Â  Â  Â  Â  const firstLogin = localStorage.getItem('jega_start_date');
Â  Â  Â  Â  Â  Â  if (firstLogin) {
Â  Â  Â  Â  Â  Â  Â  Â  const now = new Date().getTime();Â 
Â  Â  Â  Â  Â  Â  Â  Â  const diffDays = (now - parseInt(firstLogin)) / (1000 * 60 * 60 * 24);
Â  Â  Â  Â  Â  Â  Â  Â  if (diffDays > ACCESS_DAYS) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("login-screen").style.display = "none";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("app-interface").style.display = "none";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("expired-screen").style.display = "block";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Crucial: Clear access status when expired
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.removeItem('jega_access_granted');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.removeItem('jega_card_file'); // Clear file association too
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return false;Â 
Â  Â  Â  Â  Â  Â  Â  Â  } else {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("days-remaining").innerText = "License active: " + Math.ceil(ACCESS_DAYS - diffDays) + " days remaining.";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return true;Â 
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  return true;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function checkPass() {
Â  Â  Â  Â  Â  Â  if (!checkExpiry()) return;Â 
Â  Â  Â  Â  Â  Â  const input = document.getElementById("accessCode").value.toUpperCase();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 1. Check if the input code is in the CODES list
Â  Â  Â  Â  Â  Â  if (CODES[input] && CODES[input].active) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  // 2. Access is valid: Set start date (if new) and grant access
Â  Â  Â  Â  Â  Â  Â  Â  if (!localStorage.getItem('jega_start_date')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('jega_start_date', new Date().getTime());
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  // 3. Store the specific card file the user bought
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('jega_card_file', CODES[input].file);
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('jega_access_granted', 'true');
Â  Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â  Â  showAppInterface();
Â  Â  Â  Â  Â  Â  } else {Â 
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById("loginError").style.display = "block";Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function generateLink() {
Â  Â  Â  Â  Â  Â  const title = document.getElementById("cardTitle").value;
Â  Â  Â  Â  Â  Â  const msg = document.getElementById("cardMessage").value;
Â  Â  Â  Â  Â  Â  const date = document.getElementById("cardDate").value;
Â  Â  Â  Â  Â  Â  const time = document.getElementById("cardTime").value;
Â  Â  Â  Â  Â  Â  const loc = document.getElementById("cardLoc").value;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (!msg) { alert("Please enter a main message!"); return; }

Â  Â  Â  Â  Â  Â  // Get the correct file name based on the purchased code
Â  Â  Â  Â  Â  Â  const cardFile = localStorage.getItem('jega_card_file') || 'card.html'; 

Â  Â  Â  Â  Â  Â  // Construct the Base URL using the correct card file
Â  Â  Â  Â  Â  Â  const baseUrl = window.location.origin + "/" + cardFile; 
Â  Â  Â  Â  Â  Â  let finalUrl = `${baseUrl}?msg=${encodeURIComponent(msg)}`;

Â  Â  Â  Â  Â  Â  if (title) finalUrl += `&title=${encodeURIComponent(title)}`;
Â  Â  Â  Â  Â  Â  if (date) finalUrl += `&date=${encodeURIComponent(date)}`;
Â  Â  Â  Â  Â  Â  if (time) finalUrl += `&time=${encodeURIComponent(time)}`;
Â  Â  Â  Â  Â  Â  if (loc) finalUrl += `&loc=${encodeURIComponent(loc)}`;

Â  Â  Â  Â  Â  Â  const linkDisplay = document.getElementById("finalLink");
Â  Â  Â  Â  Â  Â  linkDisplay.innerText = finalUrl;
Â  Â  Â  Â  Â  Â  linkDisplay.href = finalUrl;
Â  Â  Â  Â  Â  Â  document.getElementById("resultArea").style.display = "block";
Â  Â  Â  Â  }
Â  Â  Â  Â  function copyToClipboard() {Â 
Â  Â  Â  Â  Â  Â  const linkText = document.getElementById("finalLink").innerText;Â 
Â  Â  Â  Â  Â  Â  navigator.clipboard.writeText(linkText).then(() => alert("Link Copied!"));Â 
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
